"use strict";(self.webpackChunktesting=self.webpackChunktesting||[]).push([[137],{81671:function(e,s,t){t(71233);var r=t(37881);s.Z=function(e){var s=e.children;return(0,r.jsx)("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:s})}},86137:function(e,s,t){t.r(s);var r=t(74165),l=t(15861),n=t(70885),a=t(71233),i=t(81671),d=t(21067),c=(t(89634),t(45170)),o=t(73504),x=t(61486),u=(t(45529),t(9143)),g=t(37881);s.default=function(){var e,s=(0,d.Nr)(),t=s.isAuthenticated,f=(s.logout,s.authenticate,s.user),h=s.Moralis,m=s.setUserData,v=(0,a.useRef)(null),j=(0,a.useState)(""),w=(0,n.Z)(j,2),p=w[0],b=w[1],k=(0,a.useState)(""),y=(0,n.Z)(k,2),Z=y[0],N=y[1],C=(0,a.useState)(""),M=(0,n.Z)(C,2),A=M[0],S=M[1],U=(0,a.useContext)(u.V),B=(U.address,U.signer);function E(){return E=(0,l.Z)((0,r.Z)().mark((function e(){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.getSingleUser();case 2:s=e.sent,console.log(s),localStorage.setItem("userprofile",JSON.stringify(s)),N(s);case 6:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}U.connect,(0,a.useEffect)((function(){!function(){E.apply(this,arguments)}()}),[B]);var I=(0,d.Oc)("Messages",(function(e){return e.ascending("createdAt").greaterThan("createdAt",new Date(Date.now()-54e5))}),[],{live:!0}).data;return t?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.Z,{children:"Chat"}),(0,g.jsx)("div",{class:"flex h-screen antialiased text-gray-800",children:(0,g.jsxs)("div",{class:"flex md:flex-row flex-col h-full w-full overflow-x-hidden",children:[(0,g.jsx)("div",{class:"flex flex-col px-4 mb-5 mt-6 dark:bg-gray-700 rounded-lg  w-full md:w-64 bg-white flex-shrink-0",children:(0,g.jsxs)("div",{class:"w-full mt-4 bg-white rounded-lg border border-gray-200  dark:bg-gray-800 dark:border-gray-700",children:[(0,g.jsx)("div",{class:"flex justify-end px-4 pt-4"}),(0,g.jsxs)("div",{class:"flex flex-col items-center pb-10",children:[0===(null===(e=Z.image)||void 0===e?void 0:e.length)?(0,g.jsx)(o.Z,{username:f.getUsername()}):(0,g.jsx)("img",{class:"mb-3 w-24 h-24 rounded-full shadow-lg",src:null===Z||void 0===Z?void 0:Z.image,alt:"Bonnie image"}),(0,g.jsx)("h5",{class:"mb-1 text-xl font-medium text-gray-900 dark:text-white",children:f.getUsername()}),(0,g.jsx)("span",{class:"text-sm text-gray-500 dark:text-gray-400"}),(0,g.jsxs)("div",{className:"items-center justify-center ",children:[(0,g.jsx)("div",{class:"w-4 h-4 animate-ping mt-1 bg-green-400  rounded-full m-auto"}),(0,g.jsx)("p",{className:"dark:text-white",children:"Online"})]}),(0,g.jsxs)("div",{className:"flex flex-row items-center",children:[(0,g.jsx)(x.Input,{className:"focus:ring-0 focus:border-transparent",placeholder:"change username",onChange:function(e){S(e.target.value)},value:A}),(0,g.jsx)("div",{onClick:function(){""!==A&&m({username:A}).then((function(e){S("")}))},children:(0,g.jsx)(c.Z,{className:"h-6 dark:text-gray-200"})})]})]})]})}),(0,g.jsx)("div",{class:"flex flex-col flex-auto h-full p-6",children:(0,g.jsxs)("div",{class:"flex flex-col flex-auto w-full flex-shrink-0 rounded-2xl dark:bg-gray-700 bg-gray-100 h-full p-4",children:[(0,g.jsx)("div",{class:"flex flex-col h-full overflow-x-auto mb-4",children:(0,g.jsx)("div",{class:"flex flex-col h-full",children:(0,g.jsx)("div",{class:"grid grid-cols-12 gap-y-2",children:I.map((function(e){var s,t;if(e.get("ethAddress")===f.get("ethAddress"))return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{class:"col-start-6 flex flex-col col-end-13 p-3 rounded-lg",children:[(0,g.jsxs)("div",{class:"flex items-center justify-start flex-row-reverse",children:[(0,g.jsx)("div",{class:"flex items-center justify-center h-10 w-10 rounded-full bg-indigo-500 flex-shrink-0",children:0===(null===(s=Z.image)||void 0===s?void 0:s.length)?(0,g.jsx)(o.Z,{username:e.get("username")}):(0,g.jsx)("img",{class:"mb-0 w-10 h-10 rounded-full shadow-lg",src:null===Z||void 0===Z?void 0:Z.image,alt:"Bonnie image"})}),(0,g.jsx)("div",{class:"relative mr-3 text-sm bg-indigo-100 dark:bg-gray-600 dark:text-white rounded-md py-2 px-4 shadow rounded-xl",children:(0,g.jsx)("div",{children:e.get("message")})})]}),(0,g.jsx)("span",{className:"justify-end dark:text-gray-200 items-end text-xs flex flex-row",children:e.get("username")})]})});0===(null===(t=Z.image)||void 0===t?void 0:t.length)?(o.Z,e.get("username")):null===Z||void 0===Z||Z.image,e.get("message"),e.get("username")}))})})}),(0,g.jsxs)("div",{ref:v,className:"flex flex-row items-center justify-center text-lg dark:text-gray-300 ",children:[(0,g.jsx)(c.Z,{className:"h-4 text-green-500 "}),""," You're caught up ",f.getUsername()]}),(0,g.jsxs)("div",{class:"flex flex-row items-center h-16 rounded-xl bg-white rounded-md dark:bg-gray-800 dark:text-white w-full px-4",children:[(0,g.jsx)("div",{children:(0,g.jsx)("button",{class:"flex items-center justify-center text-gray-400 hover:text-gray-600",children:(0,g.jsx)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})})}),(0,g.jsx)("div",{class:"flex-grow ml-4",children:(0,g.jsx)("div",{class:"relative w-full",children:(0,g.jsx)("input",{value:p,onChange:function(e){return b(e.target.value)},placeholder:"Enter a Message ".concat(f.getUsername()),type:"text",class:"flex w-full border rounded-lg dark:bg-gray-900 dark:border-transparent rounded-xl focus:outline-none focus:border-indigo-300 pl-4 h-10"})})}),(0,g.jsx)("div",{class:"ml-4",children:(0,g.jsxs)("button",{onClick:function(e){(e.preventDefault(),p)&&((new(h.Object.extend("Messages"))).save({message:p,username:f.getUsername(),ethAddress:f.get("ethAddress")}).then((function(e){}),(function(e){console.log(e.message)})),v.current.scrollIntoView({behavior:"smooth"}),b(""))},class:"flex items-center justify-center bg-indigo-500 hover:bg-indigo-600 rounded-xl text-white px-4 py-1 flex-shrink-0",children:[(0,g.jsx)("span",{children:"Send"}),(0,g.jsx)("span",{class:"ml-2",children:(0,g.jsx)("svg",{class:"w-4 h-4 transform rotate-45 -mt-px",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})]})})]})})]}):(0,g.jsx)("h1",{className:"bg-blue-600 items-center space-x-4 flex rounded-full px-8 py-2 text-white item-center m-auto mt-6 ",children:"will be available soon"})}},89634:function(e,s,t){e.exports=t.p+"static/media/irupus.57f88fe65b2cd16bd8f0.png"},45170:function(e,s,t){var r=t(45987),l=t(71233),n=["title","titleId"];var a=l.forwardRef((function(e,s){var t=e.title,a=e.titleId,i=(0,r.Z)(e,n);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":a},i),t?l.createElement("title",{id:a},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}));s.Z=a}}]);
//# sourceMappingURL=137.5f218097.chunk.js.map